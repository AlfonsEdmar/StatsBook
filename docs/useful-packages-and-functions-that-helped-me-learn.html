<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>5 Useful packages and functions that helped me learn | Not yet decided</title>
  <meta name="description" content="5 Useful packages and functions that helped me learn | Not yet decided" />
  <meta name="generator" content="bookdown 0.26 and GitBook 2.6.7" />

  <meta property="og:title" content="5 Useful packages and functions that helped me learn | Not yet decided" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="5 Useful packages and functions that helped me learn | Not yet decided" />
  
  
  

<meta name="author" content="B. Alfons Edmar" />


<meta name="date" content="2022-05-05" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="what-i-expect-you-to-know.html"/>
<link rel="next" href="bayesian-and-frequentists-statistics.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">StatsBook</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Table of contents</a></li>
<li class="chapter" data-level="2" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>2</b> Introduction</a>
<ul>
<li class="chapter" data-level="2.1" data-path="introduction.html"><a href="introduction.html#foreword"><i class="fa fa-check"></i><b>2.1</b> Foreword</a></li>
<li class="chapter" data-level="2.2" data-path="introduction.html"><a href="introduction.html#some-useful-resources"><i class="fa fa-check"></i><b>2.2</b> Some useful resources</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="welcome-to-r.html"><a href="welcome-to-r.html"><i class="fa fa-check"></i><b>3</b> Welcome to R</a>
<ul>
<li class="chapter" data-level="3.1" data-path="welcome-to-r.html"><a href="welcome-to-r.html#the-r-environment"><i class="fa fa-check"></i><b>3.1</b> The R environment</a></li>
<li class="chapter" data-level="3.2" data-path="welcome-to-r.html"><a href="welcome-to-r.html#basic-programming"><i class="fa fa-check"></i><b>3.2</b> Basic programming</a></li>
<li class="chapter" data-level="3.3" data-path="welcome-to-r.html"><a href="welcome-to-r.html#organisation"><i class="fa fa-check"></i><b>3.3</b> Organisation</a></li>
<li class="chapter" data-level="3.4" data-path="welcome-to-r.html"><a href="welcome-to-r.html#rmarkdowm"><i class="fa fa-check"></i><b>3.4</b> Rmarkdowm</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="what-i-expect-you-to-know.html"><a href="what-i-expect-you-to-know.html"><i class="fa fa-check"></i><b>4</b> What I expect you to know</a>
<ul>
<li class="chapter" data-level="4.1" data-path="what-i-expect-you-to-know.html"><a href="what-i-expect-you-to-know.html#descriptive-statistics"><i class="fa fa-check"></i><b>4.1</b> Descriptive statistics</a></li>
<li class="chapter" data-level="4.2" data-path="what-i-expect-you-to-know.html"><a href="what-i-expect-you-to-know.html#basic-null-hypothesis-testing"><i class="fa fa-check"></i><b>4.2</b> Basic null hypothesis testing</a></li>
<li class="chapter" data-level="4.3" data-path="what-i-expect-you-to-know.html"><a href="what-i-expect-you-to-know.html#statistical-phenomena"><i class="fa fa-check"></i><b>4.3</b> Statistical phenomena</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="useful-packages-and-functions-that-helped-me-learn.html"><a href="useful-packages-and-functions-that-helped-me-learn.html"><i class="fa fa-check"></i><b>5</b> Useful packages and functions that helped me learn</a>
<ul>
<li class="chapter" data-level="5.1" data-path="useful-packages-and-functions-that-helped-me-learn.html"><a href="useful-packages-and-functions-that-helped-me-learn.html#tidyverse"><i class="fa fa-check"></i><b>5.1</b> Tidyverse</a></li>
<li class="chapter" data-level="5.2" data-path="useful-packages-and-functions-that-helped-me-learn.html"><a href="useful-packages-and-functions-that-helped-me-learn.html#distribution-functions---rnorm-dbeta-rbinom-etc"><i class="fa fa-check"></i><b>5.2</b> Distribution functions - rnorm, dbeta, rbinom etc</a></li>
<li class="chapter" data-level="5.3" data-path="useful-packages-and-functions-that-helped-me-learn.html"><a href="useful-packages-and-functions-that-helped-me-learn.html#faux"><i class="fa fa-check"></i><b>5.3</b> Faux</a></li>
<li class="chapter" data-level="5.4" data-path="useful-packages-and-functions-that-helped-me-learn.html"><a href="useful-packages-and-functions-that-helped-me-learn.html#lm"><i class="fa fa-check"></i><b>5.4</b> lm</a></li>
<li class="chapter" data-level="5.5" data-path="useful-packages-and-functions-that-helped-me-learn.html"><a href="useful-packages-and-functions-that-helped-me-learn.html#lavaan"><i class="fa fa-check"></i><b>5.5</b> Lavaan</a></li>
<li class="chapter" data-level="5.6" data-path="useful-packages-and-functions-that-helped-me-learn.html"><a href="useful-packages-and-functions-that-helped-me-learn.html#semplot"><i class="fa fa-check"></i><b>5.6</b> semPlot</a></li>
<li class="chapter" data-level="5.7" data-path="useful-packages-and-functions-that-helped-me-learn.html"><a href="useful-packages-and-functions-that-helped-me-learn.html#section"><i class="fa fa-check"></i><b>5.7</b> ?</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="bayesian-and-frequentists-statistics.html"><a href="bayesian-and-frequentists-statistics.html"><i class="fa fa-check"></i><b>6</b> Bayesian and Frequentists statistics</a>
<ul>
<li class="chapter" data-level="6.1" data-path="bayesian-and-frequentists-statistics.html"><a href="bayesian-and-frequentists-statistics.html#likelihood-functions"><i class="fa fa-check"></i><b>6.1</b> Likelihood functions</a></li>
<li class="chapter" data-level="6.2" data-path="bayesian-and-frequentists-statistics.html"><a href="bayesian-and-frequentists-statistics.html#density-distributes"><i class="fa fa-check"></i><b>6.2</b> Density distributes</a></li>
<li class="chapter" data-level="6.3" data-path="bayesian-and-frequentists-statistics.html"><a href="bayesian-and-frequentists-statistics.html#all-hail-the-almighty-gauss"><i class="fa fa-check"></i><b>6.3</b> All hail the almighty Gauss</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="non-parametric-statistics.html"><a href="non-parametric-statistics.html"><i class="fa fa-check"></i><b>7</b> Non-parametric statistics</a>
<ul>
<li class="chapter" data-level="7.1" data-path="non-parametric-statistics.html"><a href="non-parametric-statistics.html#asking-all-the-question-making-statements-and-assuming"><i class="fa fa-check"></i><b>7.1</b> Asking all the question, making statements, and assuming</a></li>
<li class="chapter" data-level="7.2" data-path="non-parametric-statistics.html"><a href="non-parametric-statistics.html#the-old-guard"><i class="fa fa-check"></i><b>7.2</b> The old guard</a></li>
<li class="chapter" data-level="7.3" data-path="non-parametric-statistics.html"><a href="non-parametric-statistics.html#bootstrapping"><i class="fa fa-check"></i><b>7.3</b> Bootstrapping</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="correlation-and-covariation-in-r.html"><a href="correlation-and-covariation-in-r.html"><i class="fa fa-check"></i><b>8</b> Correlation and Covariation in R</a>
<ul>
<li class="chapter" data-level="8.1" data-path="correlation-and-covariation-in-r.html"><a href="correlation-and-covariation-in-r.html#welcome-to-the-matrix"><i class="fa fa-check"></i><b>8.1</b> Welcome to the matrix</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="regression-analysis.html"><a href="regression-analysis.html"><i class="fa fa-check"></i><b>9</b> Regression analysis</a>
<ul>
<li class="chapter" data-level="9.1" data-path="regression-analysis.html"><a href="regression-analysis.html#univariate-regression"><i class="fa fa-check"></i><b>9.1</b> Univariate regression</a></li>
<li class="chapter" data-level="9.2" data-path="regression-analysis.html"><a href="regression-analysis.html#multiple-regression"><i class="fa fa-check"></i><b>9.2</b> Multiple regression</a></li>
<li class="chapter" data-level="9.3" data-path="regression-analysis.html"><a href="regression-analysis.html#the-general-linear-model-anova"><i class="fa fa-check"></i><b>9.3</b> The general linear model (ANOVA)</a></li>
<li class="chapter" data-level="9.4" data-path="regression-analysis.html"><a href="regression-analysis.html#the-generalized-linear-modellogit"><i class="fa fa-check"></i><b>9.4</b> The generalized linear model(logit)</a></li>
<li class="chapter" data-level="9.5" data-path="regression-analysis.html"><a href="regression-analysis.html#cross-validation"><i class="fa fa-check"></i><b>9.5</b> Cross validation</a></li>
<li class="chapter" data-level="9.6" data-path="regression-analysis.html"><a href="regression-analysis.html#lasso-least-absolute-shrinkage-and-selection-operator"><i class="fa fa-check"></i><b>9.6</b> LASSO (least absolute shrinkage and selection operator)</a></li>
<li class="chapter" data-level="9.7" data-path="regression-analysis.html"><a href="regression-analysis.html#ridge-regression"><i class="fa fa-check"></i><b>9.7</b> Ridge regression</a></li>
<li class="chapter" data-level="9.8" data-path="regression-analysis.html"><a href="regression-analysis.html#fully-bayesian-regression"><i class="fa fa-check"></i><b>9.8</b> Fully Bayesian regression</a></li>
<li class="chapter" data-level="9.9" data-path="regression-analysis.html"><a href="regression-analysis.html#poststratification"><i class="fa fa-check"></i><b>9.9</b> Poststratification</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="path-analysis.html"><a href="path-analysis.html"><i class="fa fa-check"></i><b>10</b> Path analysis</a>
<ul>
<li class="chapter" data-level="10.1" data-path="path-analysis.html"><a href="path-analysis.html#multiple-regressionagain"><i class="fa fa-check"></i><b>10.1</b> Multiple regression(again)</a></li>
<li class="chapter" data-level="10.2" data-path="path-analysis.html"><a href="path-analysis.html#mediation-analysis"><i class="fa fa-check"></i><b>10.2</b> Mediation analysis</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="exploratory-factor-analysis-efa.html"><a href="exploratory-factor-analysis-efa.html"><i class="fa fa-check"></i><b>11</b> Exploratory factor analysis (EFA)</a></li>
<li class="chapter" data-level="12" data-path="confirmatory-factor-analysis.html"><a href="confirmatory-factor-analysis.html"><i class="fa fa-check"></i><b>12</b> Confirmatory factor analysis</a></li>
<li class="chapter" data-level="13" data-path="multi-level-modelling.html"><a href="multi-level-modelling.html"><i class="fa fa-check"></i><b>13</b> Multi-level modelling</a></li>
<li class="chapter" data-level="14" data-path="structural-equation-modelling.html"><a href="structural-equation-modelling.html"><i class="fa fa-check"></i><b>14</b> Structural equation modelling</a></li>
<li class="chapter" data-level="15" data-path="meta-analysis.html"><a href="meta-analysis.html"><i class="fa fa-check"></i><b>15</b> Meta-analysis</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Not yet decided</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="useful-packages-and-functions-that-helped-me-learn" class="section level1 hasAnchor" number="5">
<h1><span class="header-section-number">5</span> Useful packages and functions that helped me learn<a href="useful-packages-and-functions-that-helped-me-learn.html#useful-packages-and-functions-that-helped-me-learn" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>This is a bit of a strange chapter, I am not entirely sure why I included it, but I think it might be a good idea to have a few words on the packages that we will be using. This Chapter could be returned two If you get stuck with some code and for some really strange reason can´t find a better place to search for answers than here. In sum, there are some useful packages and function in R, and using them might be beneficial for both learning and doing you statistics.</p>
<div id="tidyverse" class="section level2 hasAnchor" number="5.1">
<h2><span class="header-section-number">5.1</span> Tidyverse<a href="useful-packages-and-functions-that-helped-me-learn.html#tidyverse" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Like the name implies, tidyverse is an entire universe of connected packages designed to make your coding comfortable and aesthetically pleasing. I neither have the expertise nor the time to go through even the basics of all the tidyverse packages but we will be using them frequently, and when it happens there will be some notation. In the meantime, the first chapter of R for data science is an absolute gem if you are serious about learning R. Very nice introduction, assuming no previous coding experience (and it´s free) I cannot recommend it enough (hence the repeat) <a href="https://r4ds.had.co.nz/" class="uri">https://r4ds.had.co.nz/</a></p>
</div>
<div id="distribution-functions---rnorm-dbeta-rbinom-etc" class="section level2 hasAnchor" number="5.2">
<h2><span class="header-section-number">5.2</span> Distribution functions - rnorm, dbeta, rbinom etc<a href="useful-packages-and-functions-that-helped-me-learn.html#distribution-functions---rnorm-dbeta-rbinom-etc" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>These functions were probably what got me to actually think I understood some things about statistics, which is quite impressive for me. They are essentially functions that describe the shape of certain distributions and gives you the ability to generate random variables from those distributions. The possibilities of this is really endless but I will show some examples of how to generate data below.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="useful-packages-and-functions-that-helped-me-learn.html#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Since the data is &quot;random&quot; it will be impossible to reproduce if you re-run the code. This is why we usually set a seed. This makes it so the random data can be reproduced. We do this through the set.seed function before we generate random numbers. Fun fact, the numbers are not truly random since they can be reproduced exactly, they are pseudo-random. </span></span>
<span id="cb1-2"><a href="useful-packages-and-functions-that-helped-me-learn.html#cb1-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-3"><a href="useful-packages-and-functions-that-helped-me-learn.html#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="co">#Random data following the normal distribution </span></span>
<span id="cb1-4"><a href="useful-packages-and-functions-that-helped-me-learn.html#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">5395</span>) <span class="co">#setting the seed, this can by any combination of integers. </span></span>
<span id="cb1-5"><a href="useful-packages-and-functions-that-helped-me-learn.html#cb1-5" aria-hidden="true" tabindex="-1"></a>norm_data <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(  <span class="at">n    =</span> <span class="dv">500</span> <span class="co">#the number of observations we want</span></span>
<span id="cb1-6"><a href="useful-packages-and-functions-that-helped-me-learn.html#cb1-6" aria-hidden="true" tabindex="-1"></a>                   , <span class="at">mean =</span> <span class="dv">4</span>  <span class="co">#the mean of the numbers</span></span>
<span id="cb1-7"><a href="useful-packages-and-functions-that-helped-me-learn.html#cb1-7" aria-hidden="true" tabindex="-1"></a>                   , <span class="at">sd   =</span> <span class="dv">1</span>  <span class="co">#the standard deviation of the data</span></span>
<span id="cb1-8"><a href="useful-packages-and-functions-that-helped-me-learn.html#cb1-8" aria-hidden="true" tabindex="-1"></a>                     )</span>
<span id="cb1-9"><a href="useful-packages-and-functions-that-helped-me-learn.html#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="co">#Prof of normality through histogram</span></span>
<span id="cb1-10"><a href="useful-packages-and-functions-that-helped-me-learn.html#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(norm_data)</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-10-1.png" width="672" /></p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="useful-packages-and-functions-that-helped-me-learn.html#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Voila. </span></span>
<span id="cb2-2"><a href="useful-packages-and-functions-that-helped-me-learn.html#cb2-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-3"><a href="useful-packages-and-functions-that-helped-me-learn.html#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="co">#We can do the same with the t-distribution</span></span>
<span id="cb2-4"><a href="useful-packages-and-functions-that-helped-me-learn.html#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">453</span>)</span>
<span id="cb2-5"><a href="useful-packages-and-functions-that-helped-me-learn.html#cb2-5" aria-hidden="true" tabindex="-1"></a>t_data <span class="ot">&lt;-</span> <span class="fu">rt</span>(  <span class="at">n =</span> <span class="dv">50</span>  <span class="co">#number of observations</span></span>
<span id="cb2-6"><a href="useful-packages-and-functions-that-helped-me-learn.html#cb2-6" aria-hidden="true" tabindex="-1"></a>             , <span class="at">df=</span> <span class="dv">6</span>   <span class="co">#degrees of freedom</span></span>
<span id="cb2-7"><a href="useful-packages-and-functions-that-helped-me-learn.html#cb2-7" aria-hidden="true" tabindex="-1"></a>             )</span>
<span id="cb2-8"><a href="useful-packages-and-functions-that-helped-me-learn.html#cb2-8" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(t_data)</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-10-2.png" width="672" /></p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="useful-packages-and-functions-that-helped-me-learn.html#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co">#the dame things can be done to the F distribution using rf()</span></span>
<span id="cb3-2"><a href="useful-packages-and-functions-that-helped-me-learn.html#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="co">#If we want binary outcomes we can use the binomial distribution with r(binom)</span></span>
<span id="cb3-3"><a href="useful-packages-and-functions-that-helped-me-learn.html#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="co">#let’s say we want to simulate 10 tosses of a fair coin for example.</span></span>
<span id="cb3-4"><a href="useful-packages-and-functions-that-helped-me-learn.html#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">5325</span>)</span>
<span id="cb3-5"><a href="useful-packages-and-functions-that-helped-me-learn.html#cb3-5" aria-hidden="true" tabindex="-1"></a>coin_data <span class="ot">&lt;-</span> <span class="fu">rbinom</span>(  <span class="at">n =</span> <span class="dv">10</span>    <span class="co">#number of observations/tosses</span></span>
<span id="cb3-6"><a href="useful-packages-and-functions-that-helped-me-learn.html#cb3-6" aria-hidden="true" tabindex="-1"></a>                    , <span class="at">size =</span> <span class="dv">1</span>  <span class="co">#number of trials per observation(one this time)</span></span>
<span id="cb3-7"><a href="useful-packages-and-functions-that-helped-me-learn.html#cb3-7" aria-hidden="true" tabindex="-1"></a>                    , <span class="at">prob =</span> .<span class="dv">5</span> <span class="co">#the probability of a successful outcome (50/50)</span></span>
<span id="cb3-8"><a href="useful-packages-and-functions-that-helped-me-learn.html#cb3-8" aria-hidden="true" tabindex="-1"></a>                    )</span>
<span id="cb3-9"><a href="useful-packages-and-functions-that-helped-me-learn.html#cb3-9" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(coin_data)</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-10-3.png" width="672" /></p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="useful-packages-and-functions-that-helped-me-learn.html#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Cool, If we say 1 is tails we have 6 tails and 4 heads. </span></span></code></pre></div>
<p>These might seem like very trivial things, but by manipulating the data and doing analyses on data sets where you actually KNOW what the true population parameters are, can be very useful and enlightening. Simulation is the best kind of preparation; it also highlights very well what you expect from the data. The next package I can recommend handles data generation quite smoothly.</p>
</div>
<div id="faux" class="section level2 hasAnchor" number="5.3">
<h2><span class="header-section-number">5.3</span> Faux<a href="useful-packages-and-functions-that-helped-me-learn.html#faux" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>One of the most powerful properties of programming languages is their ability to generate pseudo random variables. We have seen that we can easily generate independent random numbers following some distribution, but what if we want to simulate relationships between variables? enter faux. There are probably many other packages doing the same things, but this is the one I use, and it has served me quite well. …
let´s generate the data that we will work with through this chapter.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="useful-packages-and-functions-that-helped-me-learn.html#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(<span class="st">&#39;faux&#39;</span>)</span>
<span id="cb5-2"><a href="useful-packages-and-functions-that-helped-me-learn.html#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">324</span>) <span class="co">#the seed returns! </span></span>
<span id="cb5-3"><a href="useful-packages-and-functions-that-helped-me-learn.html#cb5-3" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">rnorm_multi</span>(<span class="at">n =</span> <span class="dv">500</span>   <span class="co">#the number of observations we want</span></span>
<span id="cb5-4"><a href="useful-packages-and-functions-that-helped-me-learn.html#cb5-4" aria-hidden="true" tabindex="-1"></a>                    , <span class="at">vars =</span> <span class="dv">3</span>   <span class="co">#number of variables we want</span></span>
<span id="cb5-5"><a href="useful-packages-and-functions-that-helped-me-learn.html#cb5-5" aria-hidden="true" tabindex="-1"></a>                    , <span class="at">mu   =</span> <span class="fu">c</span>(<span class="dv">3</span>,<span class="dv">5</span>,<span class="dv">2</span>)<span class="co">#the three means for our variables. </span></span>
<span id="cb5-6"><a href="useful-packages-and-functions-that-helped-me-learn.html#cb5-6" aria-hidden="true" tabindex="-1"></a>                    , <span class="at">sd   =</span> <span class="fu">c</span>(<span class="fl">1.3</span>, <span class="dv">2</span>, .<span class="dv">6</span>) <span class="co">#the three SDs</span></span>
<span id="cb5-7"><a href="useful-packages-and-functions-that-helped-me-learn.html#cb5-7" aria-hidden="true" tabindex="-1"></a>                    , <span class="at">r    =</span> <span class="fu">c</span>(<span class="dv">1</span>, .<span class="dv">4</span>, .<span class="dv">7</span>,  <span class="co">#this is where it gets tricky. r is </span></span>
<span id="cb5-8"><a href="useful-packages-and-functions-that-helped-me-learn.html#cb5-8" aria-hidden="true" tabindex="-1"></a>                              .<span class="dv">4</span>,  <span class="dv">1</span>, .<span class="dv">4</span>,  <span class="co">#the correlation matrix. If we have </span></span>
<span id="cb5-9"><a href="useful-packages-and-functions-that-helped-me-learn.html#cb5-9" aria-hidden="true" tabindex="-1"></a>                              .<span class="dv">7</span>, .<span class="dv">4</span>,  <span class="dv">1</span>)  <span class="co">#many variables it can be tedious</span></span>
<span id="cb5-10"><a href="useful-packages-and-functions-that-helped-me-learn.html#cb5-10" aria-hidden="true" tabindex="-1"></a>                    , <span class="at">varnames =</span> <span class="fu">c</span>(<span class="st">&#39;y&#39;</span>, <span class="st">&#39;x&#39;</span>, <span class="st">&#39;z&#39;</span>)) <span class="co">#the names of our variables</span></span>
<span id="cb5-11"><a href="useful-packages-and-functions-that-helped-me-learn.html#cb5-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-12"><a href="useful-packages-and-functions-that-helped-me-learn.html#cb5-12" aria-hidden="true" tabindex="-1"></a><span class="co">#let’s look at the correlations and the mean of our data</span></span>
<span id="cb5-13"><a href="useful-packages-and-functions-that-helped-me-learn.html#cb5-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-14"><a href="useful-packages-and-functions-that-helped-me-learn.html#cb5-14" aria-hidden="true" tabindex="-1"></a><span class="fu">cor</span>(data) <span class="co">#correlates all variables in the data set with each other</span></span></code></pre></div>
<pre><code>##           y         x         z
## y 1.0000000 0.3674651 0.6744010
## x 0.3674651 1.0000000 0.4105545
## z 0.6744010 0.4105545 1.0000000</code></pre>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="useful-packages-and-functions-that-helped-me-learn.html#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(data) <span class="co">#summarises the content in the data</span></span></code></pre></div>
<pre><code>##        y                 x                 z         
##  Min.   :-0.3747   Min.   :-0.8381   Min.   :0.2554  
##  1st Qu.: 1.9188   1st Qu.: 3.6476   1st Qu.:1.5958  
##  Median : 2.9566   Median : 4.9841   Median :2.0288  
##  Mean   : 2.9204   Mean   : 5.0046   Mean   :2.0239  
##  3rd Qu.: 3.7996   3rd Qu.: 6.3985   3rd Qu.:2.4164  
##  Max.   : 6.5359   Max.   :12.3798   Max.   :3.8473</code></pre>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="useful-packages-and-functions-that-helped-me-learn.html#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Notice how the values are similar, but not exactly the same, why is that? it is because of randomness. We can remedy this if you want to have full control over the parameter estimates in your data. We do this adding the empirical = true to the data generation formula like so:</span></span>
<span id="cb9-2"><a href="useful-packages-and-functions-that-helped-me-learn.html#cb9-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-3"><a href="useful-packages-and-functions-that-helped-me-learn.html#cb9-3" aria-hidden="true" tabindex="-1"></a>data<span class="fl">.2</span> <span class="ot">&lt;-</span> <span class="fu">rnorm_multi</span>(<span class="at">n =</span> <span class="dv">500</span>   </span>
<span id="cb9-4"><a href="useful-packages-and-functions-that-helped-me-learn.html#cb9-4" aria-hidden="true" tabindex="-1"></a>                    , <span class="at">vars =</span> <span class="dv">3</span>   </span>
<span id="cb9-5"><a href="useful-packages-and-functions-that-helped-me-learn.html#cb9-5" aria-hidden="true" tabindex="-1"></a>                    , <span class="at">mu   =</span> <span class="fu">c</span>(<span class="dv">3</span>,<span class="dv">5</span>,<span class="dv">2</span>)</span>
<span id="cb9-6"><a href="useful-packages-and-functions-that-helped-me-learn.html#cb9-6" aria-hidden="true" tabindex="-1"></a>                    , <span class="at">sd   =</span> <span class="fu">c</span>(<span class="fl">1.3</span>, <span class="dv">2</span>, .<span class="dv">6</span>) </span>
<span id="cb9-7"><a href="useful-packages-and-functions-that-helped-me-learn.html#cb9-7" aria-hidden="true" tabindex="-1"></a>                    , <span class="at">r    =</span> <span class="fu">c</span>(<span class="dv">1</span>, .<span class="dv">4</span>, .<span class="dv">7</span>,  </span>
<span id="cb9-8"><a href="useful-packages-and-functions-that-helped-me-learn.html#cb9-8" aria-hidden="true" tabindex="-1"></a>                              .<span class="dv">4</span>,  <span class="dv">1</span>, .<span class="dv">4</span>,   </span>
<span id="cb9-9"><a href="useful-packages-and-functions-that-helped-me-learn.html#cb9-9" aria-hidden="true" tabindex="-1"></a>                              .<span class="dv">7</span>, .<span class="dv">4</span>,  <span class="dv">1</span>)  </span>
<span id="cb9-10"><a href="useful-packages-and-functions-that-helped-me-learn.html#cb9-10" aria-hidden="true" tabindex="-1"></a>                    , <span class="at">varnames =</span> <span class="fu">c</span>(<span class="st">&#39;y&#39;</span>, <span class="st">&#39;x&#39;</span>, <span class="st">&#39;z&#39;</span>)</span>
<span id="cb9-11"><a href="useful-packages-and-functions-that-helped-me-learn.html#cb9-11" aria-hidden="true" tabindex="-1"></a>                    , <span class="at">empirical =</span> <span class="cn">TRUE</span>) <span class="co">#do we want empirical estimates?</span></span>
<span id="cb9-12"><a href="useful-packages-and-functions-that-helped-me-learn.html#cb9-12" aria-hidden="true" tabindex="-1"></a><span class="co">#This is now empirical data and not data sample from a population</span></span>
<span id="cb9-13"><a href="useful-packages-and-functions-that-helped-me-learn.html#cb9-13" aria-hidden="true" tabindex="-1"></a><span class="fu">cor</span>(data<span class="fl">.2</span>) </span></code></pre></div>
<pre><code>##     y   x   z
## y 1.0 0.4 0.7
## x 0.4 1.0 0.4
## z 0.7 0.4 1.0</code></pre>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="useful-packages-and-functions-that-helped-me-learn.html#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(data<span class="fl">.2</span>)</span></code></pre></div>
<pre><code>##        y                 x                 z        
##  Min.   :-0.8063   Min.   :-0.8758   Min.   :0.293  
##  1st Qu.: 2.1405   1st Qu.: 3.7060   1st Qu.:1.590  
##  Median : 2.9691   Median : 4.9931   Median :2.015  
##  Mean   : 3.0000   Mean   : 5.0000   Mean   :2.000  
##  3rd Qu.: 3.9539   3rd Qu.: 6.2568   3rd Qu.:2.398  
##  Max.   : 6.5047   Max.   :11.9103   Max.   :3.605</code></pre>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="useful-packages-and-functions-that-helped-me-learn.html#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co">#And there it is, identical to how we specified it in the rnorm_multi function.</span></span></code></pre></div>
<p>Now that we have some data, let´s try to fit it to a model</p>
</div>
<div id="lm" class="section level2 hasAnchor" number="5.4">
<h2><span class="header-section-number">5.4</span> lm<a href="useful-packages-and-functions-that-helped-me-learn.html#lm" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>As we will a little bit more in-depth below, R generally uses strings from specifying models. That is, if we want to regress Y on x we specify that as Y~X. You will be doing a lot of that little squiggly(~), or, as some call it tilde(it´s proper name). Most if not all “simple” statistics can be done using the linear model function lm(). There are many functions for various types of t-test and chi2 and others but you will get really far with just the lm(), at the end of the day most tests all fall under the general linear model. Let´s fit a linear model with the data we just generated, we can predict y with x and z.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="useful-packages-and-functions-that-helped-me-learn.html#cb14-1" aria-hidden="true" tabindex="-1"></a>fit.lm <span class="ot">&lt;-</span> <span class="fu">lm</span>(  <span class="at">formula =</span> y <span class="sc">~</span> x <span class="sc">+</span> z <span class="co">#the formula of the regression</span></span>
<span id="cb14-2"><a href="useful-packages-and-functions-that-helped-me-learn.html#cb14-2" aria-hidden="true" tabindex="-1"></a>          , <span class="at">data =</span> data         <span class="co">#the data we want to use</span></span>
<span id="cb14-3"><a href="useful-packages-and-functions-that-helped-me-learn.html#cb14-3" aria-hidden="true" tabindex="-1"></a>          )</span>
<span id="cb14-4"><a href="useful-packages-and-functions-that-helped-me-learn.html#cb14-4" aria-hidden="true" tabindex="-1"></a><span class="co">#When we have fitted a model, we need to summarise the output. There is on specifically for linear models that we can use. </span></span>
<span id="cb14-5"><a href="useful-packages-and-functions-that-helped-me-learn.html#cb14-5" aria-hidden="true" tabindex="-1"></a><span class="fu">summary.lm</span>(<span class="at">object =</span> fit.lm)</span></code></pre></div>
<pre><code>## 
## Call:
## lm(formula = y ~ x + z, data = data)
## 
## Residuals:
##     Min      1Q  Median      3Q     Max 
## -2.7678 -0.5999 -0.0311  0.6150  2.9941 
## 
## Coefficients:
##             Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept) -0.25511    0.16116  -1.583   0.1141    
## x            0.07015    0.02318   3.027   0.0026 ** 
## z            1.39556    0.07977  17.495   &lt;2e-16 ***
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## Residual standard error: 0.9565 on 497 degrees of freedom
## Multiple R-squared:  0.4647, Adjusted R-squared:  0.4625 
## F-statistic: 215.7 on 2 and 497 DF,  p-value: &lt; 2.2e-16</code></pre>
<p>Cool, this is a run of the mill multiple regression. But remember that you cannot only fit our model, you must also summarise it, be that through summary.lm() or by any other means. We´ll get more in to lm() in the regression chapters. Let´s move on to a real big boy, lavaan.</p>
</div>
<div id="lavaan" class="section level2 hasAnchor" number="5.5">
<h2><span class="header-section-number">5.5</span> Lavaan<a href="useful-packages-and-functions-that-helped-me-learn.html#lavaan" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Lavaan, or, latent variable analysis, is an R package that we will use quite a bit. As the name implies it´s main function is to do latent variable analysis. If you do not know what latent variable analysis is, don´t worry, you soon will. The main thing that can be a bit tricky with lavaan is that it uses different kind of model specification than we usually do in “simple” analyses such as linear models. Contrary to those models, lavaan works in three steps.
- first: you specify your model
- second: you fit your model
- third: you summarise the output of the model fit.</p>
<p>If we compare this to the previous two step process of fitting an “lm”, it is the separation of model specification and model fitting that can take you for a loop. Lavaan models are specified as strings, that is, characters. These characters are then applied to a fitting function. To make things clearer, let´s play around with it a bit.</p>
<p>We preciously specified the model of y ~ x + z. This is a character string that communicates that y is regressed on x + z. Lavaan works the same way, so if we wanted to fit a regression in lavaan we can use that exact string, the difference is that we specify the modal as a separate object from the fit.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="useful-packages-and-functions-that-helped-me-learn.html#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lavaan)</span>
<span id="cb16-2"><a href="useful-packages-and-functions-that-helped-me-learn.html#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="co">#Step 1: specify the model</span></span>
<span id="cb16-3"><a href="useful-packages-and-functions-that-helped-me-learn.html#cb16-3" aria-hidden="true" tabindex="-1"></a>model <span class="ot">&lt;-</span> (<span class="st">&#39;y ~ x + z&#39;</span>)</span>
<span id="cb16-4"><a href="useful-packages-and-functions-that-helped-me-learn.html#cb16-4" aria-hidden="true" tabindex="-1"></a><span class="co">#Step 2: fit the specifid model with the sem function</span></span>
<span id="cb16-5"><a href="useful-packages-and-functions-that-helped-me-learn.html#cb16-5" aria-hidden="true" tabindex="-1"></a>fit   <span class="ot">&lt;-</span> <span class="fu">sem</span>(<span class="at">model =</span> model, <span class="at">data =</span> data)</span>
<span id="cb16-6"><a href="useful-packages-and-functions-that-helped-me-learn.html#cb16-6" aria-hidden="true" tabindex="-1"></a><span class="co">#Step 3: summarise the output</span></span>
<span id="cb16-7"><a href="useful-packages-and-functions-that-helped-me-learn.html#cb16-7" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(fit)</span></code></pre></div>
<pre><code>## lavaan 0.6-9 ended normally after 13 iterations
## 
##   Estimator                                         ML
##   Optimization method                           NLMINB
##   Number of model parameters                         3
##                                                       
##   Number of observations                           500
##                                                       
## Model Test User Model:
##                                                       
##   Test statistic                                 0.000
##   Degrees of freedom                                 0
## 
## Parameter Estimates:
## 
##   Standard errors                             Standard
##   Information                                 Expected
##   Information saturated (h1) model          Structured
## 
## Regressions:
##                    Estimate  Std.Err  z-value  P(&gt;|z|)
##   y ~                                                 
##     x                 0.070    0.023    3.036    0.002
##     z                 1.396    0.080   17.547    0.000
## 
## Variances:
##                    Estimate  Std.Err  z-value  P(&gt;|z|)
##    .y                 0.909    0.058   15.811    0.000</code></pre>
<p>Now, if we look at the regression section in the bottom, we can see that the regression output is exactly the same as we would get if we did a normal lm regression. Let´s print out that regression we fitted earlier.</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="useful-packages-and-functions-that-helped-me-learn.html#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary.lm</span>(fit.lm)</span></code></pre></div>
<pre><code>## 
## Call:
## lm(formula = y ~ x + z, data = data)
## 
## Residuals:
##     Min      1Q  Median      3Q     Max 
## -2.7678 -0.5999 -0.0311  0.6150  2.9941 
## 
## Coefficients:
##             Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept) -0.25511    0.16116  -1.583   0.1141    
## x            0.07015    0.02318   3.027   0.0026 ** 
## z            1.39556    0.07977  17.495   &lt;2e-16 ***
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## Residual standard error: 0.9565 on 497 degrees of freedom
## Multiple R-squared:  0.4647, Adjusted R-squared:  0.4625 
## F-statistic: 215.7 on 2 and 497 DF,  p-value: &lt; 2.2e-16</code></pre>
<p>And there you go, it´s very much the same. Now, why would you want to do all this other stuff just to fit a regression? well, you wouldn’t. But this is not the point of lavaan, lavaan can specify very complex models ranging from latent variable models to multilevel models, and all this is done though the mode character string, also knowns as the “lavaan syntax”. Below I will give some examples of what type of models you can fit with lavaan. I will plot them out using a package called semPlot - but we will get to that in due time.</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="useful-packages-and-functions-that-helped-me-learn.html#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(semPlot)</span>
<span id="cb20-2"><a href="useful-packages-and-functions-that-helped-me-learn.html#cb20-2" aria-hidden="true" tabindex="-1"></a><span class="co">#A simple correlation model</span></span>
<span id="cb20-3"><a href="useful-packages-and-functions-that-helped-me-learn.html#cb20-3" aria-hidden="true" tabindex="-1"></a>cor_model <span class="ot">&lt;-</span> (<span class="st">&#39;</span></span>
<span id="cb20-4"><a href="useful-packages-and-functions-that-helped-me-learn.html#cb20-4" aria-hidden="true" tabindex="-1"></a><span class="st">              #Correlations are described by &quot;~~&quot;</span></span>
<span id="cb20-5"><a href="useful-packages-and-functions-that-helped-me-learn.html#cb20-5" aria-hidden="true" tabindex="-1"></a><span class="st">              y ~~ x&#39;</span></span>
<span id="cb20-6"><a href="useful-packages-and-functions-that-helped-me-learn.html#cb20-6" aria-hidden="true" tabindex="-1"></a>              )</span>
<span id="cb20-7"><a href="useful-packages-and-functions-that-helped-me-learn.html#cb20-7" aria-hidden="true" tabindex="-1"></a><span class="fu">semPaths</span>(<span class="fu">sem</span>(cor_model))</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-15-1.png" width="672" /></p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="useful-packages-and-functions-that-helped-me-learn.html#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="co">#A simple regression model</span></span>
<span id="cb21-2"><a href="useful-packages-and-functions-that-helped-me-learn.html#cb21-2" aria-hidden="true" tabindex="-1"></a>reg_model <span class="ot">&lt;-</span> (<span class="st">&#39;</span></span>
<span id="cb21-3"><a href="useful-packages-and-functions-that-helped-me-learn.html#cb21-3" aria-hidden="true" tabindex="-1"></a><span class="st">              #Regressions are described by &quot;~&quot;</span></span>
<span id="cb21-4"><a href="useful-packages-and-functions-that-helped-me-learn.html#cb21-4" aria-hidden="true" tabindex="-1"></a><span class="st">              y ~ x&#39;</span>)</span>
<span id="cb21-5"><a href="useful-packages-and-functions-that-helped-me-learn.html#cb21-5" aria-hidden="true" tabindex="-1"></a><span class="fu">semPaths</span>(<span class="fu">sem</span>(reg_model), <span class="at">rotation =</span> <span class="dv">2</span>)</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-15-2.png" width="672" /></p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="useful-packages-and-functions-that-helped-me-learn.html#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="co">#A simple mediation model</span></span>
<span id="cb22-2"><a href="useful-packages-and-functions-that-helped-me-learn.html#cb22-2" aria-hidden="true" tabindex="-1"></a>med_model <span class="ot">&lt;-</span> (<span class="st">&#39;</span></span>
<span id="cb22-3"><a href="useful-packages-and-functions-that-helped-me-learn.html#cb22-3" aria-hidden="true" tabindex="-1"></a><span class="st">              y ~ x + z</span></span>
<span id="cb22-4"><a href="useful-packages-and-functions-that-helped-me-learn.html#cb22-4" aria-hidden="true" tabindex="-1"></a><span class="st">              z ~ x&#39;</span></span>
<span id="cb22-5"><a href="useful-packages-and-functions-that-helped-me-learn.html#cb22-5" aria-hidden="true" tabindex="-1"></a>              )</span>
<span id="cb22-6"><a href="useful-packages-and-functions-that-helped-me-learn.html#cb22-6" aria-hidden="true" tabindex="-1"></a><span class="fu">semPaths</span>(<span class="fu">sem</span>(med_model))</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-15-3.png" width="672" /></p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="useful-packages-and-functions-that-helped-me-learn.html#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="co">#a simple latent variable model</span></span>
<span id="cb23-2"><a href="useful-packages-and-functions-that-helped-me-learn.html#cb23-2" aria-hidden="true" tabindex="-1"></a>sem_model <span class="ot">&lt;-</span> (<span class="st">&#39;</span></span>
<span id="cb23-3"><a href="useful-packages-and-functions-that-helped-me-learn.html#cb23-3" aria-hidden="true" tabindex="-1"></a><span class="st">              #Latent variable as describe by &quot;=~&quot;</span></span>
<span id="cb23-4"><a href="useful-packages-and-functions-that-helped-me-learn.html#cb23-4" aria-hidden="true" tabindex="-1"></a><span class="st">              y =~ a + b + c + d</span></span>
<span id="cb23-5"><a href="useful-packages-and-functions-that-helped-me-learn.html#cb23-5" aria-hidden="true" tabindex="-1"></a><span class="st">              x =~ c + d + e + f</span></span>
<span id="cb23-6"><a href="useful-packages-and-functions-that-helped-me-learn.html#cb23-6" aria-hidden="true" tabindex="-1"></a><span class="st">              </span></span>
<span id="cb23-7"><a href="useful-packages-and-functions-that-helped-me-learn.html#cb23-7" aria-hidden="true" tabindex="-1"></a><span class="st">              &#39;</span>)</span>
<span id="cb23-8"><a href="useful-packages-and-functions-that-helped-me-learn.html#cb23-8" aria-hidden="true" tabindex="-1"></a><span class="fu">semPaths</span>(<span class="fu">sem</span>(sem_model))</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-15-4.png" width="672" />
This is just a little taste of what lavaan can do. If your data can handle it, you can make incredibly interesting models. We will use lavaan for path analysis, mediation analysis, SEM and multi-level SEM. If you want to go Bayesian, there is even a Bayesian alternative under the name “blavaan”. Again, this is barely scratching the surface, and if you want to get deeper insight into the workings of lavaan i can recommend going straight to the source: <a href="https://lavaan.ugent.be/tutorial/index.html" class="uri">https://lavaan.ugent.be/tutorial/index.html</a></p>
</div>
<div id="semplot" class="section level2 hasAnchor" number="5.6">
<h2><span class="header-section-number">5.6</span> semPlot<a href="useful-packages-and-functions-that-helped-me-learn.html#semplot" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The semPlot package is used to visual/plot SEMs, CFAs and path analyses. We have already used semPlot to graph the sem models above. Now, graphing sems can be quite annoying in the beginning. The documentation is very very extensive, but not super easy to understand (IMO) and before you have a basic understanding of the semPaths function reading the documentation might feel overwhelming. I would recommend going to this very concise video by the author of the package for a nice little overview: <a href="https://www.youtube.com/watch?v=rUUzF1_yaXg&amp;ab_channel=SachaEpskamp" class="uri">https://www.youtube.com/watch?v=rUUzF1_yaXg&amp;ab_channel=SachaEpskamp</a></p>
</div>
<div id="section" class="section level2 hasAnchor" number="5.7">
<h2><span class="header-section-number">5.7</span> ?<a href="useful-packages-and-functions-that-helped-me-learn.html#section" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Last, but certainly not least, the question mark. This might be the most useful little trick R has to offer. All packages/functions have built in documentation that explains it´s uses and intricacies. Most even have examples of how to use the function. I cannot stress enough how useful this is, not only is it good for solving problems in your code quickly, but all this documentation is a wealth of knowledge. Though brief, most if not all documentation has useful references and information that can broaden your knowledge of what you are actually doing.
So how does it work? you simply type ? before a function. Let´s say we want to know more about how to fit lavaan models with the sem function, then we simple write:</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="useful-packages-and-functions-that-helped-me-learn.html#cb24-1" aria-hidden="true" tabindex="-1"></a>?sem</span>
<span id="cb24-2"><a href="useful-packages-and-functions-that-helped-me-learn.html#cb24-2" aria-hidden="true" tabindex="-1"></a><span class="co">#Maybe we have issues generating correct correlations and have to revisit how to use rnorm_multi</span></span>
<span id="cb24-3"><a href="useful-packages-and-functions-that-helped-me-learn.html#cb24-3" aria-hidden="true" tabindex="-1"></a>?rnorm_multi</span>
<span id="cb24-4"><a href="useful-packages-and-functions-that-helped-me-learn.html#cb24-4" aria-hidden="true" tabindex="-1"></a><span class="co">#Perhaps just the rnorm? </span></span>
<span id="cb24-5"><a href="useful-packages-and-functions-that-helped-me-learn.html#cb24-5" aria-hidden="true" tabindex="-1"></a>?rnorm</span></code></pre></div>
<p>Make use of this tool! it can help you a lot. Also, I don´t like leaving a mess. So now that we are done, we should clean up. The fastest way of removing things in R is with the rm() function. This removes singular things from the environment. If we want to remove the coin_data we can simply write:</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="useful-packages-and-functions-that-helped-me-learn.html#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(coin_data)</span></code></pre></div>
<p>And it´s gone. Now you will be glad that you have all your things documented neatly, that way you can load and remove things at the press of a button without having to worry about losing things. But if we want to clean everything out (as I often want) we can write the line:</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="useful-packages-and-functions-that-helped-me-learn.html#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(<span class="at">list =</span> <span class="fu">ls</span>())</span></code></pre></div>
<p>To be completely honest I not know exactly what this line means, but it does a great job cleaning.</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="what-i-expect-you-to-know.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="bayesian-and-frequentists-statistics.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/AlfonsEdmar/StatsBook/edit/master/04.Useful_packages.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/AlfonsEdmar/StatsBook/blob/master/04.Useful_packages.Rmd",
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
